(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{41:function(e,t,n){"use strict";n.r(t);var i=n(2),r=n.n(i),o=n(13),d=n.n(o),a=n(14),c=n(15),s=n(17),l=n(16),u=n(0),m=function(e){return Object(u.jsxs)("li",{children:[e.topic," at ",e.time," "," ",Object(u.jsx)("button",{onClick:function(){return e.deleteReminder(e.id)},children:"Delete"})]})},h=function(e){return Object(u.jsx)("ul",{children:e.reminders.map((function(t){return Object(u.jsx)(m,{id:t.id,deleteReminder:e.deleteReminder,topic:t.topic,time:t.time},t.id)}))})},j=function(e){return Object(u.jsxs)("form",{onSubmit:e.addReminder,children:[Object(u.jsxs)("div",{children:["Topic: ",Object(u.jsx)("input",{value:e.state.newReminder,onChange:function(t){return e.handleReminderChange(t)}})]}),Object(u.jsxs)("div",{children:["Time: ",Object(u.jsx)("input",{value:e.state.newTime,onChange:function(t){return e.handleTimeChange(t)}})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"Add"})})]})},p=n(3),f=n.n(p),g=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var i;return Object(a.a)(this,n),console.log("constructed"),(i=t.call(this,e)).getAll=function(){return f.a.get("/api/reminders").then((function(e){return e.data}))},i.addReminder=function(e){e.preventDefault();var t=!0,n={topic:i.state.newReminder,time:i.state.newTime};return i.state.reminders.some((function(e){return e.topic===n.topic}))?alert("Failed to create reminder: reminder already exists"):f.a.post("https://rocky-plateau-61926.herokuapp.com/api/reminders",n).then((function(e){t&&(console.log(e),i.setState({reminders:i.state.reminders.concat(e.data),newReminder:"",newTime:""}))})),function(){return t=!1}},i.deleteReminder=function(e){window.confirm("Do you want to delete this reminder?")&&f.a.delete("https://rocky-plateau-61926.herokuapp.com/api/reminders/".concat(e)).then((function(t){console.log(t),console.log(t.data),i.setState({reminders:i.state.reminders.filter((function(t){return t.id!==e}))})})).catch((function(e){console.log("fail")}))},i.handleReminderChange=function(e){console.log(e.target.value),i.setState({newReminder:e.target.value})},i.handleTimeChange=function(e){console.log(e.target.value),i.setState({newTime:e.target.value})},i.state={reminders:[],newReminder:"",newTime:""},i}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log("mounted"),f.a.get("https://rocky-plateau-61926.herokuapp.com/api/reminders").then((function(t){console.log(t),e.setState({reminders:t.data}),console.log("promise resolved")}))}},{key:"render",value:function(){return console.log("render"),Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Add a reminder"}),Object(u.jsx)(j,{state:this.state,addReminder:this.addReminder,handleReminderChange:this.handleReminderChange,handleTimeChange:this.handleTimeChange}),Object(u.jsx)("h2",{children:"Reminders:"}),Object(u.jsx)(h,{reminders:this.state.reminders,deleteReminder:this.deleteReminder})]})}}]),n}(r.a.Component);d.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(g,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.bcad6927.chunk.js.map